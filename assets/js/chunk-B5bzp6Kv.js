import{r as e,a as l,o as t,c as a,w as o,b as i,d as u,e as d,i as n,E as m,f as s,g as r,u as c}from"./index-CjKobHjJ.js";import{_ as p}from"./chunk-BCo6x5W8.js";const f=p({__name:"DesignDemo",setup(m){const s=e(!1),r=l({tabsActive:"ComponentLibrary",collapseActive:["BasicFields","AdvancedFields","OtherFields"],collapseOptions:[{label:"基础字段",key:"BasicFields",children:[{label:"单行文本",key:"Input"},{label:"多行文本",key:"Textarea"},{label:"计数器",key:"Number"},{label:"单选框组",key:"Radio"},{label:"多选框",key:"Checkbox"},{label:"多选框组",key:"CheckboxGroup"},{label:"下拉选择框",key:"Select"},{label:"时间选择器",key:"Time"},{label:"日期选择器",key:"Date"},{label:"滑块",key:"Slider"},{label:"评分",key:"Rate"},{label:"开关",key:"Switch"},{label:"级联选择器",key:"Cascader"},{label:"树形选择器",key:"TreeSelect"}]},{label:"高级字段",key:"AdvancedFields",children:[{label:"栅格",key:"Grid"},{label:"表格",key:"Table"},{label:"标签页",key:"Tabs"},{label:"折叠面板",key:"Collapse"},{label:"卡片",key:"Card"},{label:"文件",key:"File"},{label:"单行子表单",key:"SubForm"},{label:"多行子表单",key:"SubFormPlus"}]},{label:"其他字段",key:"OtherFields",children:[{label:"按钮",key:"Button"},{label:"分割线",key:"Divider"},{label:"标题",key:"Title"},{label:"提示",key:"Alert"},{label:"文字",key:"Text"},{label:"链接",key:"Link"}]}]}),c=l({tabsActive:"FieldAttributes",fieldCollapseActive:["BasicAttributes","LabelAttributes","validationAttributes","OtherAttributes","AdvancedAttributes"],formCollapseActive:["BasicAttributes"]}),p=()=>{let e;return i(u("el-aside"),{id:"low_code_form_design_demo_left_panel",class:"left-panel"},{default:()=>[i(u("el-tabs"),{modelValue:r.tabsActive,"onUpdate:modelValue":e=>r.tabsActive=e},{default:()=>[i(u("el-tab-pane"),{label:"组件库",name:"ComponentLibrary"},{default:()=>{return[i(u("el-collapse"),{modelValue:r.collapseActive,"onUpdate:modelValue":e=>r.collapseActive=e},(l=e=r.collapseOptions.map((e=>i(u("el-collapse-item"),{title:e.label,name:e.key},{default:()=>[i("div",{class:"left-panel-draggable-list"},[e.children.map((e=>i("div",{class:"left-panel-draggable-item widget-item"},[i(u("el-button"),{class:"panel-button",icon:"Rank"},{default:()=>[e.label]})])))])]}))),"function"==typeof l||"[object Object]"===Object.prototype.toString.call(l)&&!n(l)?e:{default:()=>[e]}))];var l}})]})]})},f=()=>i(u("el-container"),{class:"center-box"},{default:()=>[i(u("el-header"),{id:"low_code_form_design_demo_center_header",class:"center-header"},{default:()=>[i("div",null,[i(u("el-button"),{type:"primary",link:!0,title:"工具介绍",onClick:()=>s.value=!0},{default:()=>[d("工具介绍")]})]),i("div",{class:"grow"},null),i("div",null,[i(u("el-button"),{type:"primary",link:!0,icon:"Delete",title:"清空"},{default:()=>[d("清空")]}),i(u("el-button"),{type:"primary",link:!0,icon:"View",title:"预览"},{default:()=>[d("预览")]}),i(u("el-button"),{type:"primary",link:!0,icon:"iconSave",title:"保存"},{default:()=>[d("保存")]})])]}),i(u("el-main"),{id:"low_code_form_design_demo_center_main",class:"center-container"},{default:()=>[i(u("el-form"),{"label-width":"130px"},{default:()=>[i("div",{class:"widget-list"},[i("div",{class:"widget-item active"},[i(u("el-form-item"),{label:"单行文本"},{default:()=>[i(u("el-input"),{placeholder:"请输入"},null)]}),i("div",{class:"widget-item-drag"},[i(u("el-icon"),{title:"拖拽"},{default:()=>[i(u("Rank"),null,null)]}),i("span",{class:"text_sm"},[d("单行文本")])]),i("div",{class:"widget-item-action"},[i(u("el-icon"),{title:"克隆"},{default:()=>[i(u("DocumentCopy"),null,null)]}),i(u("el-icon"),{title:"删除"},{default:()=>[i(u("Delete"),null,null)]})]),i("div",{class:"widget-item-model"},null)]),i("div",{class:"widget-item"},[i(u("el-form-item"),{label:"多行文本"},{default:()=>[i(u("el-input"),{type:"textarea"},null)]})]),i("div",{class:"widget-item"},[i(u("el-form-item"),{label:"计数器"},{default:()=>[i(u("el-input-number"),null,null)]})]),i("div",{class:"widget-item"},[i(u("el-form-item"),{label:"单选框组"},{default:()=>[i(u("el-radio-group"),null,{default:()=>[i(u("el-radio"),{value:"3"},{default:()=>[d("Option A")]}),i(u("el-radio"),{value:"6"},{default:()=>[d("Option B")]}),i(u("el-radio"),{value:"9"},{default:()=>[d("Option C")]})]})]})]),i("div",{class:"widget-item"},[i(u("el-form-item"),{label:"多选框"},{default:()=>[i(u("el-checkbox"),{label:"Option 1"},null),i(u("el-checkbox"),{label:"Option 2",indeterminate:!0},null),i(u("el-checkbox"),{label:"Option C","model-value":!0},null)]})]),i("div",{class:"widget-item"},[i(u("el-form-item"),{label:"多选框组"},{default:()=>[i(u("el-checkbox-group"),null,{default:()=>[i(u("el-checkbox"),{label:"Option A",value:"Value A"},null),i(u("el-checkbox"),{label:"Option B",value:"Value B"},null),i(u("el-checkbox"),{label:"Option C",value:"Value C"},null),i(u("el-checkbox"),{label:"disabled",value:"Value disabled",disabled:!0},null),i(u("el-checkbox"),{label:"selected and disabled",value:"Value selected and disabled",disabled:!0},null)]})]})]),i("div",{class:"widget-item"},[i(u("el-form-item"),{label:"下拉选择框"},{default:()=>[i(u("el-select"),null,{default:()=>[i(u("el-option"),{label:"Option1",value:"Option1"},null),i(u("el-option"),{label:"Option2",value:"Option2"},null),i(u("el-option"),{label:"Option3",value:"Option3"},null)]})]})]),i("div",{class:"widget-item"},[i(u("el-form-item"),{label:"时间选择器"},{default:()=>[i(u("el-date-picker"),{type:"datetime",placeholder:"选择日期时间"},null)]})]),i("div",{class:"widget-item"},[i(u("el-form-item"),{label:"日期选择器"},{default:()=>[i(u("el-date-picker"),{type:"date",placeholder:"选择日期"},null)]})]),i("div",{class:"widget-item"},[i(u("el-form-item"),{label:"评分"},{default:()=>[i(u("el-rate"),null,null)]})]),i("div",{class:"widget-item"},[i(u("el-form-item"),{label:"开关"},{default:()=>[i(u("el-switch"),null,null)]})]),i("div",{class:"widget-item"},[i(u("el-form-item"),{label:"滑块"},{default:()=>[i(u("el-slider"),null,null)]})]),i("div",{class:"widget-item"},[i(u("el-form-item"),{label:"级联选择器"},{default:()=>[i(u("el-cascader"),null,null)]})]),i("div",{class:"widget-item"},[i(u("el-form-item"),{label:"树形选择器"},{default:()=>[i(u("el-tree-select"),null,null)]})]),i("div",{class:"widget-item"},[i(u("el-form-item"),{label:"文字"},{default:()=>[i("span",null,[d("文字")])]})]),i("div",{class:"widget-item"},[i(u("el-form-item"),{label:"按钮"},{default:()=>[i(u("el-button"),null,{default:()=>[d("按钮")]})]})]),i("div",{class:"widget-item"},[i(u("el-form-item"),{label:"链接"},{default:()=>[i(u("el-link"),{href:"https://cn.element-plus.org/zh-CN/component/overview.html",target:"_blank"},{default:()=>[d("Element Plus")]})]})]),i("div",{class:"widget-item"},[i(u("el-form-item"),{label:"分割线"},{default:()=>[i(u("el-divider"),null,null)]})]),i("div",{class:"widget-item"},[i(u("el-form-item"),{label:"标题"},{default:()=>[i("h2",{class:"form-item-title"},[d("标题")])]})]),i("div",{class:"widget-item"},[i(u("el-form-item"),{label:"提示"},{default:()=>[i(u("el-alert"),{title:"提示",closable:!1},null)]})])])]})]})]}),b=()=>i(u("el-aside"),{id:"low_code_form_design_demo_config_container",class:"config-container"},{default:()=>[i(u("el-tabs"),{modelValue:c.tabsActive,"onUpdate:modelValue":e=>c.tabsActive=e},{default:()=>[i(u("el-tab-pane"),{label:"字段属性",name:"FieldAttributes"},{default:()=>[i(u("el-form"),{size:"small"},{default:()=>[i(u("el-collapse"),{modelValue:c.fieldCollapseActive,"onUpdate:modelValue":e=>c.fieldCollapseActive=e},{default:()=>[i(u("el-collapse-item"),{title:"通用属性",name:"BasicAttributes"},{default:()=>[i(u("el-form-item"),{label:"类型"},{default:()=>[i(u("el-tag"),null,{default:()=>[d("单行文本")]})]}),i(u("el-form-item"),{label:"标签",prop:"label"},{default:()=>[i(u("el-input"),{"model-value":"单行文本"},null)]}),i(u("el-form-item"),{label:"占位信息",prop:"placeholder"},{default:()=>[i(u("el-input"),{"model-value":"请输入"},null)]}),i(u("el-form-item"),{label:"组件大小",prop:"size"},{default:()=>[i(u("el-radio-group"),{"model-value":"default"},{default:()=>[i(u("el-radio-button"),{value:"large"},{default:()=>[d("大")]}),i(u("el-radio-button"),{value:"default"},{default:()=>[d("中")]}),i(u("el-radio-button"),{value:"small"},{default:()=>[d("小")]})]})]})]}),i(u("el-collapse-item"),{title:"标签属性",name:"LabelAttributes"},{default:()=>[i(u("el-form-item"),{label:"标签对齐",prop:"labelAlign"},{default:()=>[i(u("el-radio-group"),{"model-value":"right"},{default:()=>[i(u("el-radio-button"),{value:"left"},{default:()=>[d("居左")]}),i(u("el-radio-button"),{value:"center"},{default:()=>[d("居中")]}),i(u("el-radio-button"),{value:"right"},{default:()=>[d("居右")]})]})]}),i(u("el-form-item"),{label:"隐藏标签",prop:"labelHidden"},{default:()=>[i(u("el-switch"),{"model-value":!1},null)]}),i(u("el-form-item"),{label:"自定义标签宽度",prop:"labelWidthCustom"},{default:()=>[i(u("el-switch"),{"model-value":!1},null)]}),i(u("el-form-item"),{label:"标签宽度",prop:"labelWidth"},{default:()=>[i(u("el-input-number"),{"model-value":130},null)]}),i(u("el-form-item"),{label:"标签冒号",prop:"labelSuffix"},{default:()=>[i(u("el-switch"),null,null)]})]}),i(u("el-collapse-item"),{title:"校验属性",name:"validationAttributes"},{default:()=>[i(u("el-form-item"),{label:"必填",prop:"required"},{default:()=>[i(u("el-switch"),null,null)]}),i(u("el-form-item"),{label:"必填校验提示",prop:"requiredHint"},{default:()=>[i(u("el-input"),null,null)]}),i(u("el-form-item"),{label:"字段校验",prop:"validation"},{default:()=>[i(u("el-input"),null,null)]}),i(u("el-form-item"),{label:"校验失败提示",prop:"validationHint"},{default:()=>[i(u("el-input"),null,null)]})]}),i(u("el-collapse-item"),{title:"其他属性",name:"OtherAttributes"},{default:()=>[i(u("el-form-item"),{label:"隐藏",prop:"hidden"},{default:()=>[i(u("el-switch"),null,null)]}),i(u("el-form-item"),{label:"禁用",prop:"disabled"},{default:()=>[i(u("el-switch"),null,null)]}),i(u("el-form-item"),{label:"只读",prop:"readonly"},{default:()=>[i(u("el-switch"),null,null)]})]}),i(u("el-collapse-item"),{title:"高级属性",name:"AdvancedAttributes"},{default:()=>[i(u("el-form-item"),{label:"显隐关联",prop:"hidden"},{default:()=>[i(u("el-switch"),null,null)]})]})]})]})]}),i(u("el-tab-pane"),{label:"表单属性",name:"FormAttribute"},{default:()=>[i(u("el-form"),{size:"small"},{default:()=>[i(u("el-collapse"),{modelValue:c.formCollapseActive,"onUpdate:modelValue":e=>c.formCollapseActive=e},{default:()=>[i(u("el-collapse-item"),{title:"基本属性",name:"BasicAttributes"},{default:()=>[i(u("el-form-item"),{label:"标签位置",prop:"labelPosition"},{default:()=>[i(u("el-radio-group"),{"model-value":"left"},{default:()=>[i(u("el-radio-button"),{value:"left"},{default:()=>[d("左边")]}),i(u("el-radio-button"),{value:"top"},{default:()=>[d("上边")]})]})]}),i(u("el-form-item"),{label:"隐藏标签",prop:"labelHidden"},{default:()=>[i(u("el-switch"),{"model-value":!1},null)]}),i(u("el-form-item"),{label:"标签对齐",prop:"labelAlign"},{default:()=>[i(u("el-radio-group"),{"model-value":"right"},{default:()=>[i(u("el-radio-button"),{value:"left"},{default:()=>[d("左对齐")]}),i(u("el-radio-button"),{value:"center"},{default:()=>[d("居中")]}),i(u("el-radio-button"),{value:"right"},{default:()=>[d("右对齐")]})]})]}),i(u("el-form-item"),{label:"标签宽度",prop:"labelWidth"},{default:()=>[i(u("el-input-number"),{"model-value":130},null)]}),i(u("el-form-item"),{label:"标签后缀",prop:"labelSuffix"},{default:()=>[i(u("el-switch"),{"model-value":!1},null)]}),i(u("el-form-item"),{label:"组件大小",prop:"size"},{default:()=>[i(u("el-radio-group"),{"model-value":"default"},{default:()=>[i(u("el-radio-button"),{value:"large"},{default:()=>[d("大")]}),i(u("el-radio-button"),{value:"default"},{default:()=>[d("中")]}),i(u("el-radio-button"),{value:"small"},{default:()=>[d("小")]})]})]})]})]})]})]})]})]}),v=()=>i(u("el-tour"),{modelValue:s.value,"onUpdate:modelValue":e=>s.value=e,"show-close":!1,"close-on-press-escape":!1,"target-area-clickable":!1},{default:()=>[i(u("el-tour-step"),{target:"#low_code_form_design_demo_left_panel",placement:"right",title:"字段面板",description:"展示表单设计器可以通过 点击/拖拽 来操作的字段，并根据字段类型整合为 基础字段、高级字段、其他字段"},null),i(u("el-tour-step"),{target:"#low_code_form_design_demo_center_header",placement:"bottom",title:"操作区域",description:"预览表单、保存表单、清空表单等操作"},null),i(u("el-tour-step"),{target:"#low_code_form_design_demo_center_main",placement:"right",title:"表单画布",description:"可对表单字段进行拖拽调整位置、克隆、删除等操作"},null),i(u("el-tour-step"),{target:"#low_code_form_design_demo_config_container",placement:"left",title:"字段、表单属性设置",description:"设置修改表单、字段属性配置"},null)],indicators:({current:e,total:l})=>`${e+1} / ${l}`});return(e,l)=>{const d=u("el-container");return t(),a(d,{class:"low-code-form-design"},{default:o((()=>[i(p),i(f),i(b),i(v)])),_:1})}}},[["__scopeId","data-v-d2b3ea6f"]]),b=(e="local")=>{const l={local:window.localStorage,session:window.sessionStorage},t=l[e]||l.local;return{get:e=>t.getItem(e),set:(e,l)=>t.setItem(e,"string"==typeof l?l:JSON.stringify(l)),remove:e=>t.removeItem(e)}},v={defaultGetApiData:{label:"默认请求远端接口数据",value:"defaultGetApiData",type:"getRemoteData",method:function(){const{itemOption:e,search:l}=arguments[0];return new Promise(((t,a)=>{e.loading=!0,setTimeout((()=>{const a={option:[{label:"请求Option1",value:"apiOption1"},{label:"请求Option2",value:"apiOpion2"},{label:"请求Option3",value:"apiOpion3"}]};l&&a.option.unshift({label:`请求${l}`,value:l}),e.loading=!1,t(a)}),3e3)}))}},defaultUploadFile:{label:"默认上传方法",value:"defaultUploadFile",type:"upload",method:function(){const{itemOption:e,fileData:l}=arguments[0];return new Promise(((t,a)=>{m("资源上传中……"),e.loading=!0,setTimeout((()=>{e.loading=!1,Math.random()>.5?(m("资源上传成功"),t({url:`${l[e.fileName].uid}.jpg`,name:l[e.fileName].name})):(m("资源上传失败"),a({message:"上传失败"}))}),3e3)}))}},defaultDownloadFile:{label:"默认下载方法",value:"defaultDownloadFile",type:"download",method:function(){const{itemOption:e}=arguments[0];return new Promise(((l,t)=>{m("资源下载中……"),e.loading=!0,setTimeout((()=>{e.loading=!1,l(!0)}),3e3)}))}},defaultRemoveFile:{label:"默认删除方法",value:"defaultRemoveFile",type:"remove",method:function(){const{itemOption:e}=arguments[0];return new Promise(((l,t)=>{m("文件删除中……"),e.loading=!0,setTimeout((()=>{e.loading=!1,Math.random()>.5?(m("文件删除成功"),l({message:"删除成功"})):(m("文件删除失败"),t({message:"删除失败"}))}),3e3)}))}},getRemoteApiList:{label:"获取远端Api列表",value:"getRemoteApiList",method:function(){const{itemOption:e}=arguments[0];return new Promise(((l,t)=>{e.loading=!0,setTimeout((()=>{e.loading=!1,l({option:[{label:"Api1",value:"api1"},{label:"Api2",value:"api2"},{label:"Api3",value:"api3"}]})}),3e3)}))}},getOptionData:{label:"模拟获取数据",value:"getOptionData",type:"getData",method:function(){const{itemOption:e}=arguments;return new Promise(((l,t)=>{m("数据获取中……"),e.loading=!0,setTimeout((()=>{e.loading=!1,l([{label:"请求Option1",value:"apiOption1"},{label:"请求Option2",value:"apiOpion2"},{label:"请求Option3",value:"apiOpion3"}])}),3e3)}))}},showFormDataJSON:{label:"查看表单数据",value:"showFormDataJSON",type:"click",method:function(){const{formAllData:e}=arguments[0];s({message:()=>i("pre",{style:"max-height:500px;overflow:auto;width:50vw"},[JSON.stringify(e,null,2)]),customClass:"low-code-form message_box",customStyle:{width:"auto",maxWidth:"unset"}})}},showPreviewForm:{label:"预览表单",value:"showPreviewForm",type:"click",method:function(){const{formConfig:e,formAllData:l,formAllOption:t,customMethods:a}=arguments[0];s({message:()=>i(u("FormGenerate"),{readonly:!0,formOption:{config:e,list:t},formData:l,customMethods:a},null),customClass:"low-code-form message_box",customStyle:{width:"80%",maxWidth:"unset",minHeight:"80vh"}})}},SubmitForm:{label:"提交表单",value:"SubmitForm",type:"click",method:function(){m("校验数据中……")}},clickButton:{label:"按钮点击",value:"clickButton",type:"click",method:function(){const{itemOption:e}=arguments[0];return new Promise(((l,t)=>{s({title:"提示",message:"点击了按钮，确认后显示加载动画一秒",customClass:"low-code-form message_box",callback:t=>{e.loading=!0,setTimeout((()=>{e.loading=!1,l(!0)}),1e3)}})}))}}},g="form-all-option",h=p({__name:"Home",setup(l){const a=e(!1),n=e(!1),m=e(!1),s=e(!1),p=e(!1),h=e(!1),w=e({}),y=()=>{const e=JSON.parse(b().get(g));w.value=e||{}},_=()=>{s.value=!0,setTimeout((()=>{y(),n.value=!0,s.value=!1}),2e3)},k=()=>{s.value=!0,setTimeout((()=>{y(),m.value=!0,s.value=!1}),2e3)},O=e=>{clearTimeout(window.timer),window.timer=setTimeout((()=>{p.value=!0,b().set(g,e),clearTimeout(window.timer1),window.timer1=setTimeout((()=>{p.value=!1}),800)}),5e3)},A=e=>{h.value=!0,b().set(g,e),clearTimeout(window.timer),window.timer=setTimeout((()=>{p.value=!1,h.value=!1}),800)};return(e,l)=>{const b=u("el-button"),g=u("el-drawer"),C=u("FormDesign"),x=u("FormGenerate");return t(),r("div",null,[i(b,{type:"primary",loading:s.value,onClick:_},{default:o((()=>[d("打开表单设计器")])),_:1},8,["loading"]),i(b,{type:"primary",loading:s.value,onClick:k},{default:o((()=>[d("打开表单生成器")])),_:1},8,["loading"]),i(g,{modelValue:a.value,"onUpdate:modelValue":l[0]||(l[0]=e=>a.value=e),title:"表单设计器DEMO",direction:"btt",size:"100%","show-close":"","destroy-on-close":!0},{default:o((()=>[i(f)])),_:1},8,["modelValue"]),i(g,{modelValue:n.value,"onUpdate:modelValue":l[1]||(l[1]=e=>n.value=e),title:"表单设计器",direction:"btt",size:"100%","show-close":"","destroy-on-close":!0,onClose:y},{default:o((()=>[i(C,{loading:s.value,save:h.value,"auto-save":p.value,"form-option":w.value,"custom-methods":e.customMethods,onChange:O,onSave:A},null,8,["loading","save","auto-save","form-option","custom-methods"])])),_:1},8,["modelValue"]),i(g,{modelValue:m.value,"onUpdate:modelValue":l[2]||(l[2]=e=>m.value=e),title:"表单生成器",direction:"btt",size:"100%","show-close":"","destroy-on-close":!0,onClose:y},{default:o((()=>[i(x,{loading:s.value,"form-option":w.value,"custom-methods":c(v),onSave:A},null,8,["loading","form-option","custom-methods"])])),_:1},8,["modelValue"])])}}},[["__scopeId","data-v-94c2d784"]]);export{h as default};
